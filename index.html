<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EmptyShop ‚Äî –ê–ª–º–∞–∑—ã Free Fire</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

body {margin:0;font-family:'Orbitron',sans-serif;background:#05020b;color:#eaf6ff;}
.container{max-width:1100px;margin:0 auto;padding:20px;}
h1{text-align:center;color:#00d4ff;margin-bottom:5px;}
.subtitle{text-align:center;color:#bcdff6;margin-bottom:20px;}
input{padding:10px;margin:5px;border-radius:8px;border:none;}
.layout{display:grid;grid-template-columns:1fr 350px;gap:20px;}
@media(max-width:900px){.layout{grid-template-columns:1fr}}
.card{background:rgba(255,255,255,0.05);padding:15px;border-radius:12px;margin-bottom:20px;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
@media(max-width:700px){.grid{grid-template-columns:1fr}}
.product{padding:10px;border-radius:10px;background:rgba(255,255,255,0.01);display:flex;align-items:center;gap:10px;transition:0.2s;}
.product:hover{background:rgba(255,255,255,0.03);cursor:pointer;}
.thumb{width:60px;height:45px;border-radius:6px;background:linear-gradient(90deg,#00d4ff,#ff36d6);display:flex;justify-content:center;align-items:center;font-weight:900;color:#021018;}
.prod-info{flex:1;}
.price{font-weight:900;color:#00d4ff;}
.add-btn{padding:6px 10px;border:none;border-radius:8px;background:linear-gradient(90deg,#ff36d6,#00d4ff);color:#021018;font-weight:900;cursor:pointer;}
.qty-controls{display:flex;gap:5px;align-items:center;margin-left:auto;}
.qty-controls button{padding:2px 6px;background:#222;border:none;color:#fff;border-radius:5px;cursor:pointer;}
.cart-item{display:flex;align-items:center;gap:8px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.01);}
.cart{position:sticky;top:20px;}
.total{display:flex;justify-content:space-between;font-weight:900;margin-top:10px;}
.pay{width:100%;padding:12px;border:none;border-radius:10px;background:linear-gradient(90deg,#ff36d6,#00d4ff);color:#021018;font-weight:900;cursor:pointer;margin-top:10px;}
</style>
</head>
<body>
<div class="container">
<h1>EmptyShop üíé</h1>
<div class="subtitle">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID –≤ –∏–≥—Ä–µ –∏ –Ω–∏–∫ –≤ Telegram (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</div>
<div style="text-align:center;margin-bottom:20px;">
<input id="playerId" placeholder="ID –∏–≥—Ä–æ–∫–∞" required>
<input id="nickname" placeholder="–ù–∏–∫ –≤ Telegram (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
</div>

<div class="layout">
<!-- –¢–æ–≤–∞—Ä—ã -->
<section>
  <div class="card" style="background:#1e1e1e;">
    <h2 style="color:#00d4ff;">–ê–ª–º–∞–∑—ã</h2>
    <div class="grid" id="productList">
      <!-- –ê–ª–º–∞–∑—ã –±—É–¥—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è -->
    </div>
  </div>

  <div class="card" style="background:#1a1a2e;">
    <h2 style="color:#ff36d6;">–í–∞—É—á–µ—Ä—ã</h2>
    <div class="grid" id="voucherList">
      <!-- –í–∞—É—á–µ—Ä—ã -->
    </div>
  </div>

  <div class="card" style="background:#1a2e1a;">
    <h2 style="color:#00ff99;">–ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–∫–∞—á–∫–∏</h2>
    <div class="grid" id="passList">
      <!-- –ü—Ä–æ–ø—É—Å–∫–∏ -->
    </div>
  </div>
</section>

<!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
<aside class="card cart">
<h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
<div id="cartList"><div>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div></div>
<div class="total">–ò—Ç–æ–≥–æ: <span id="totalSum">0 ‚ÇΩ</span></div>
<button class="pay" onclick="goToTelegram()" id="payBtn" disabled>–û–ø–ª–∞—Ç–∏—Ç—å ‚Äî Telegram</button>
</aside>
</div>
</div>

<script>
// –ü—Ä–æ–¥—É–∫—Ç—ã
const catalog = {
  p1:{name:'105 –∞–ª–º–∞–∑–æ–≤', price:75,type:'diamond'},
  p2:{name:'326 –∞–ª–º–∞–∑–æ–≤', price:215,type:'diamond'},
  p3:{name:'546 –∞–ª–º–∞–∑–æ–≤', price:355,type:'diamond'},
  p4:{name:'1113 –∞–ª–º–∞–∑–æ–≤', price:705,type:'diamond'},
  p5:{name:'2398 –∞–ª–º–∞–∑–æ–≤', price:1415,type:'diamond'},
  p6:{name:'6160 –∞–ª–º–∞–∑–æ–≤', price:3505,type:'diamond'},
  v1:{name:'–ù–µ–¥–µ–ª—å–Ω—ã–π –≤–∞—É—á–µ—Ä', price:130,type:'voucher'},
  v2:{name:'–ú–µ—Å—è—á–Ω—ã–π –≤–∞—É—á–µ—Ä', price:670,type:'voucher'},
  pass6:{name:'6 lvl', price:40,type:'pass'},
  pass10:{name:'10 lvl', price:60,type:'pass'},
  pass15:{name:'15 lvl', price:60,type:'pass'},
  pass20:{name:'20 lvl', price:60,type:'pass'},
  pass25:{name:'25 lvl', price:60,type:'pass'},
  pass30:{name:'30 lvl', price:85,type:'pass'}
};

let cart = {};

// –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
function addToCart(id){
  if(!cart[id]) cart[id] = {...catalog[id], qty:0};
  cart[id].qty++;
  renderCart();
  updateProductQtyUI(id);
}

// –£–º–µ–Ω—å—à–µ–Ω–∏–µ
function decQty(id){
  if(!cart[id]) return;
  cart[id].qty--;
  if(cart[id].qty<=0) delete cart[id];
  renderCart();
  updateProductQtyUI(id);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ
function updateProductQtyUI(id){
  const el = document.querySelector(`[data-id="${id}"] .qtySpan`);
  if(el) el.textContent = cart[id]?cart[id].qty:0;
}

// –†–µ–Ω–¥–µ—Ä –∫–æ—Ä–∑–∏–Ω—ã
function renderCart(){
  const list = document.getElementById('cartList');
  const totalEl = document.getElementById('totalSum');
  list.innerHTML = '';
  const keys = Object.keys(cart);
  if(keys.length===0){
    list.innerHTML='<div>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';
    totalEl.textContent='0 ‚ÇΩ';
    document.getElementById('payBtn').disabled=true;
    return;
  }
  let total=0;
  keys.forEach(k=>{
    const it=cart[k];
    total+=it.price*it.qty;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<div>${it.name}</div>
      <div style="margin-left:auto;display:flex;align-items:center;gap:5px;">
      <button onclick="decQty('${k}')">‚àí</button>
      <span>${it.qty}</span>
      <button onclick="addToCart('${k}')">+</button>
      </div>
      <div style="margin-left:10px;">${it.price*it.qty} ‚ÇΩ</div>`;
    list.appendChild(div);
  });
  totalEl.textContent=total+' ‚ÇΩ';
  document.getElementById('payBtn').disabled=false;
}

// –¢–µ–ª–µ–≥—Ä–∞–º
function goToTelegram(){
  const playerId=document.getElementById('playerId').value.trim();
  const nickname=document.getElementById('nickname').value.trim();
  if(!playerId){alert('–í–≤–µ–¥–∏—Ç–µ ID –∏–≥—Ä–æ–∫–∞');return;}
  if(Object.keys(cart).length===0){alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');return;}
  let msg=`–ó–∞–∫–∞–∑\nID –∏–≥—Ä–æ–∫–∞: ${playerId}\n`;
  if(nickname) msg+=`–ù–∏–∫: ${nickname}\n`;
  msg+='–¢–æ–≤–∞—Ä—ã:\n';
  let total=0;
  Object.values(cart).forEach(it=>{
    msg+=`${it.name} x${it.qty} ‚Äî ${it.price*it.qty} ‚ÇΩ\n`;
    total+=it.price*it.qty;
  });
  msg+=`–ò—Ç–æ–≥–æ: ${total} ‚ÇΩ`;
  window.open(`https://t.me/SilviaEmpShop?text=${encodeURIComponent(msg)}`,'_blank');
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ DOM
function createProductDOM(product,id){
  const div=document.createElement('div');
  div.className='product';
  div.dataset.id=id;
  div.innerHTML=`<div class="thumb">${product.type==='diamond'?'üíé':product.type==='voucher'?'üéüÔ∏è':'üèÜ'}</div>
  <div class="prod-info"><strong>${product.name}</strong><br>${product.price} ‚ÇΩ</div>
  <div class="qty-controls">
    <button onclick="decQty('${id}')">‚àí</button>
    <span class="qtySpan">0</span>
    <button onclick="addToCart('${id}')">+</button>
  </div>`;
  return div;
}

// –†–µ–Ω–¥–µ—Ä –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
for(const id in catalog){
  const p=catalog[id];
  const el=createProductDOM(p,id);
  if(p.type==='diamond') document.getElementById('productList').appendChild(el);
  else if(p.type==='voucher') document.getElementById('voucherList').appendChild(el);
  else if(p.type==='pass') document.getElementById('passList').appendChild(el);
}
</script>
</body>
</html>
